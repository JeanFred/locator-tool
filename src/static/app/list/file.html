<h2>
  {{$ctrl.title.file}}
  <small><a href="{{$ctrl.title.url}}" target="_blank">
    <span class="glyphicon glyphicon-new-window"></span>
  </a></small>
</h2>
<div ng-bind-html="$ctrl.title.description" class="well well-sm"></div>

<dl class="dl-horizontal">
  <dt ng-if="$ctrl.title.coordinates.lat">Existing coordinates</dt>
  <dd ng-if="$ctrl.title.coordinates.lat">
    <code>{{$ctrl.title.coordinates.lat}}, {{$ctrl.title.coordinates.lng}}</code>
  </dd>
  <dt ng-if="$ctrl.mapMarker.lat">New coordinates</dt>
  <dd ng-if="$ctrl.mapMarker.lat">
    <code>{{$ctrl.mapMarker.lat}}, {{$ctrl.mapMarker.lng}}</code>
  </dd>
</dl>

<div class="form-group form-inline" ng-if="$ctrl.mapMarker.lat">
  <button ng-click="$ctrl.editLocation($ctrl.title)" ng-disabled="$ctrl.title.coordinates.lat === $ctrl.mapMarker.lat && $ctrl.title.coordinates.lng === $ctrl.mapMarker.lng" class="btn btn-default">
    Add <code>
      &#123;&#123;Location
      |
      <span ng-bind="$ctrl.mapMarker.lat"></span>
      |
      <span ng-bind="$ctrl.mapMarker.lng"></span>
      &#125;&#125;
    </code>
  </button>
</div>

<div ll-map="$ctrl.mapOptions" style="height: 400px" ll-click="$ctrl.mapClick($event)">
  <ll-view ll-view="$ctrl.mapView"></ll-view>
  <ll-marker ll-lat-lng="$ctrl.mapMarker" ll-marker="{draggable: true}" ng-if="$ctrl.mapMarker.lat">
</div>

<img class="img-responsive thumbnail" ng-src="{{$ctrl.title.thumbnail}}">
